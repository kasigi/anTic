<div ng-if="displayMode == 'table'">

    <div class="row">
        <div class="col-md-6">
            <tableselect></tableselect>
        </div>
        <div class="col-md-6">

            <div class="btn-group pull-right" role="group" aria-label="Edit Table Controls">
                <button class="btn btn-success btn-lg" type="button" ng-click="saveAllPendingEdits()" ng-disabled="recordEditPending.length <= 0"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Save All</button>
                <button class="btn btn-primary btn-lg" type="button" ng-click="addRecord()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Entry</button>

                </div>

        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <datatable></datatable>
        </div>
    </div>

    <div class="row" ng-if="currentTable.data.length > 0 && currentTable.recordTotalCount > currentTable.data.length">
        <div class="col-md-12">
            <tablelistpagination></tablelistpagination>
        </div>
    </div>

</div><!-- end table edit view -->


<div class="ant-single-record-panel" ng-if="displayMode == 'singleRecord'">

    <div class="row">
        <div class="col-md-6">

            <h1><small>Record for:</small> <span ng-bind="currentTable.dataModel.displayName"></span></h1>

        </div>
        <div class="col-md-6">

            <singlerecordcontrols></singlerecordcontrols>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">


            <div class="panel panel-primary with-nav-tabs">
                <div class="panel-heading clearfix">

                <ul class="nav nav-tabs " role="tablist">
                    <li role="presentation" class="active"><a data-target="#editRecord" aria-controls="editRecord" role="tab" data-toggle="tab">Edit Record</a></li>
                    <li role="presentation"><a data-target="#editRecordLogs" aria-controls="editRecordLogs" role="tab" data-toggle="tab">View Log / Versions</a></li>

                </ul>
                    </div>
                <div class="panel-body">
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="editRecord">
                            <singlerecordedit></singlerecordedit>
                        </div>


                        <div role="tabpanel" class="tab-pane" id="editRecordLogs">
                            <table ng-repeat="versionRecordObject in currentTable.versionLogData" ng-init="dataRowIndex = $index"  class="table table-striped ant-entryTable table-hover">
                                <thead>
                                    <tr>
                                        <th>Version ID</th>
                                        <th>Timestamp</th>
                                        <th>User</th>
                                        <th id="thID-controls">&nbsp;</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="versionRecord in versionRecordObject">
                                        <td ng-repeat="versionRecordField in versionRecord">{{versionRecordField}}</td>

                                        <td headers="thID-controls">
                                            <div class="btn-group" role="group" aria-label="Edit Record Controls">

                                            <a role="button" aria-label="Revert" data-target="#" class="btn btn-danger btn-sm" ng-click="getVersion(dataRowIndex,versionRecord['id'])">Load Version</a>
                                                </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
            </div>













        </div>
    </div>


</div>